This is a repository for updated source programs in the following books:
https://www.amazon.co.jp/AVR%E3%83%9E%E3%82%A4%E3%82%B3%E3%83%B3%E3%81%A8Python%E3%81%A7%E3%81%AF%E3%81%98%E3%82%81%E3%82%88%E3%81%86-IoT%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E8%A8%AD%E8%A8%88%E3%83%BB%E5%AE%9F%E8%A3%85-%E6%AD%A6%E8%97%A4-%E4%BD%B3%E6%81%AD/dp/4274217906/ref=sr_1_3?

https://www.amazon.cn/dp/B07M5XDTD2/ref=sr_1_1?__mk_zh_CN=%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%BD%91%E7%AB%99&keywords=yoshiyasu+takefuji&qid=1556317403&s=gateway&sr=8-1

https://www.kingstone.com.tw/new/basic/2013120498099?kmcode=2013120498099&lid=book_new_flow&actid=book_flow


Python2.7 was tested. 

In order to use Python3.7, run the following commands:
download a python3.7 miniconda file: https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
bash Miniconda3*.sh
in .profile file, add the following aliase:  
alias pip3==/home/XXX/miniconda3/bin/pip
alias python3=/home/XXX/miniconda3/bin/python
alias conda3=/home/XXX/miniconda3/bin/conda
   XXX is username
source .profile
pip3 install -U google-api-python-client
pip3 install -U oauth2client

-----------------------------------------------

Python programs using PyDrive are able to list files on Google Drive folder (oauth2_list.py), upload file from local to Google Drive(oauth2_upload), download file from Google Drive to local (oauth2_down.py), delete file on Google Drive (oauth2_delete.py).
You should download json file of web application client from google development site:
https://console.developers.google.com/cloud-resource-manager

You must enable Google Drive API and create Web client (Web Application).
credentials->OAuth 2.0 client IDs->Web client

In Authorized redirect URIs, set http://localhost:8080/
Click "DOWNLOAD JSON" to download json file and rename it to client_secrets.json.

The following command is equivalent to "ls <Google Drive directory>"
$ python oauth2_list.py
The following command deletes the target file on Google Drive.
$ python -i oauth2_delete.py

A new delete-file function can be added for PyDrive.
The following steps are needed to be able to use the oauth2_delete.py.
1. You should install pydrive by 'pip install pydrive'.
2. You should download your .json file from google developer console and rename it to client_secrets.json.
   client_secrets.py file should be in the same folder of oauth2_delete.py.
3. Installed files.py in the original PyDrive folder should be replaced with the new one in this folder.
   Go to your pydrive folder: 
   xxx/Lib/site-packages/pydrive
   and download files.py file on your pydrive folder:   
4. a new files.pyc should be generated by help.py
   To compile files.py for generating files.pyc, use help.py

$ cat help.py 
import py_compile 
py_compile.compile("files.py")

$ chmod 755 files.py
$ python help.py

You can directly use glist.py, gupload.py, gdownload.py, gdelete without PyDrive. 
glist.py is able to list files on Google Drive.
gupload.py can upload a file from local to Google Drive.
gdownload.py can download a file from Google Drive to local.
gdelete.py can delete a file from Google Drive.

$ python glist.py
$ python -i gupload.py
$ python -i gdownload.py
$ python -i gdelete.py

$ python3 glist.py
$ python3 gupload.py
$ python3 gdownload.py
$ python3 gdelete.py

